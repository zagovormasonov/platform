# –°–∏—Å—Ç–µ–º–∞ —É—Å–ª—É–≥ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏ –∞–≤–∞—Ç–∞—Ä—ã –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **‚úÖ –ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ö–µ–¥–µ—Ä–µ**
2. **‚úÖ –°–∏—Å—Ç–µ–º–∞ —É—Å–ª—É–≥ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ —Å —Ü–µ–Ω–∞–º–∏**
3. **‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω (100-20000 —Ä—É–±–ª–µ–π)**
4. **‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥–∞–º–∏**

---

## üîß **1. –ê–≤–∞—Ç–∞—Ä –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**

### **–ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞** –≤ –∫–Ω–æ–ø–∫–µ "–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å" 
- **Fallback –Ω–∞ –∏–∫–æ–Ω–∫—É** –µ—Å–ª–∏ –∞–≤–∞—Ç–∞—Ä –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
```typescript
// –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
useEffect(() => {
  const fetchUserProfile = async () => {
    if (user) {
      const { data } = await supabase
        .from('profiles')
        .select('id, full_name, avatar_url')
        .eq('id', user.id)
        .single()
      setUserProfile(data)
    }
  }
  fetchUserProfile()
}, [user])

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞ –≤ –∫–Ω–æ–ø–∫–µ
{userProfile?.avatar_url ? (
  <img
    src={userProfile.avatar_url}
    alt={userProfile.full_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}
    className="h-6 w-6 rounded-full object-cover"
  />
) : (
  <User className="h-4 w-4" />
)}
```

---

## üîß **2. –°–∏—Å—Ç–µ–º–∞ —É—Å–ª—É–≥ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤**

### **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç `supabase-services.sql` –≤ SQL Editor –≤–∞—à–µ–≥–æ Supabase –ø—Ä–æ–µ–∫—Ç–∞:

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —É—Å–ª—É–≥
CREATE TABLE expert_services (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  expert_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  service_name TEXT NOT NULL,
  service_description TEXT,
  price INTEGER NOT NULL CHECK (price >= 100 AND price <= 20000),
  currency TEXT DEFAULT 'RUB',
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### **–§—É–Ω–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã —É—Å–ª—É–≥:**

#### **1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥**
- **–ù–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤)
- **–û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥–∏** (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤)
- **–¶–µ–Ω–∞** (–æ—Ç 100 –¥–æ 20000 —Ä—É–±–ª–µ–π)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Å–µ—Ö –ø–æ–ª–µ–π

#### **2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª—É–≥**
- **Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä—è–º–æ –≤ —Å–ø–∏—Å–∫–µ
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π** —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- **–û—Ç–º–µ–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π** –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

#### **3. –£–¥–∞–ª–µ–Ω–∏–µ —É—Å–ª—É–≥**
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ** –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### **4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–º**
- **–ê–∫—Ç–∏–≤–Ω—ã–µ/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ** —É—Å–ª—É–≥–∏
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞** —Ü–≤–µ—Ç–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

### **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω:**
```typescript
const validatePrice = (price: string): boolean => {
  const numPrice = parseInt(price)
  return !isNaN(numPrice) && numPrice >= 100 && numPrice <= 20000
}
```

### **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É—Å–ª—É–≥:**
- **–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Å–ª—É–≥** —ç–∫—Å–ø–µ—Ä—Ç–∞
- **–ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É"** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π
- **Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–°—á–µ—Ç—á–∏–∫ —É—Å–ª—É–≥** –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- **–ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏

---

## üîß **3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª—å —ç–∫—Å–ø–µ—Ä—Ç–∞**

### **–ì–¥–µ –Ω–∞–π—Ç–∏:**
1. **–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å** ‚Üí **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å**
2. **–°–µ–∫—Ü–∏—è "–ú–æ–∏ —É—Å–ª—É–≥–∏"** –≤ –∫–æ–Ω—Ü–µ —Ñ–æ—Ä–º—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤)

### **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- **–°–∫—Ä—ã—Ç–æ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
- **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö** –∏ —É—Å–ø–µ—Ö–µ

---

## üîß **4. –ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (RLS)**

### **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
- **–≠–∫—Å–ø–µ—Ä—Ç—ã** –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏
- **–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —É—Å–ª—É–≥–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å** —Å –ø—Ä–æ—Ñ–∏–ª–µ–º —ç–∫—Å–ø–µ—Ä—Ç–∞

### **–ü–æ–ª–∏—Ç–∏–∫–∏:**
```sql
-- –≠–∫—Å–ø–µ—Ä—Ç—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏
CREATE POLICY "Experts can manage their own services" ON expert_services
FOR ALL USING (expert_id = auth.uid());

-- –í—Å–µ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —É—Å–ª—É–≥–∏
CREATE POLICY "Users can view active services" ON expert_services
FOR SELECT USING (is_active = TRUE);
```

---

## üì± **5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**

### **–î–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:**
1. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å** ‚Üí –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–Ω–∏–∑
2. **–ù–∞–π—Ç–∏ —Å–µ–∫—Ü–∏—é "–ú–æ–∏ —É—Å–ª—É–≥–∏"**
3. **–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é —É—Å–ª—É–≥—É** –∫–Ω–æ–ø–∫–æ–π "+"
4. **–ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É** —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å** —É—Å–ª—É–≥–∞–º–∏

### **–î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤:**
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —É—Å–ª—É–≥** –≤ –ø—Ä–æ—Ñ–∏–ª—è—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–µ–Ω–∞—Ö** –≤ —Ä—É–±–ª—è—Ö
- **–û–ø–∏—Å–∞–Ω–∏—è —É—Å–ª—É–≥** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

---

## üé® **6. UI/UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

### **–î–∏–∑–∞–π–Ω:**
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π —Å—Ç–∏–ª—å** —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- **–ò–∫–æ–Ω–∫–∏ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π** (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å)
- **–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞** —Å—Ç–∞—Ç—É—Å–æ–≤ —É—Å–ª—É–≥
- **–ê–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏** –¥–ª—è –ª—É—á—à–µ–≥–æ UX

### **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:**
- **–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è** –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- **Touch-friendly** —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **Responsive layout** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤

---

## üöÄ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

### **–ß—Ç–æ –ø–æ–ª—É—á–∏–ª–∏:**
‚úÖ **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** —Å –∞–≤–∞—Ç–∞—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
‚úÖ **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—Å–ª—É–≥** –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤  
‚úÖ **–°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω** 100-20000 —Ä—É–±–ª–µ–π  
‚úÖ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** —É—Å–ª—É–≥–∞–º–∏  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏** —á–µ—Ä–µ–∑ RLS  
‚úÖ **–û—Ç–ª–∏—á–Ω—ã–π UX** –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  

### **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**
–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL —Å–∫—Ä–∏–ø—Ç–∞!
