# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

–¢–µ–ø–µ—Ä—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–≤—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã** - –∫–∞–∫ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫ –∏ —É–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ.

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ ExpertCalendar.tsx

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Å–ª–æ—Ç–æ–≤ (–Ω–µ —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö)

#### –ë—ã–ª–æ:
```tsx
const { data, error } = await supabase
  .from('available_slots_view') // –¢–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã
  .select('*')
```

#### –°—Ç–∞–ª–æ:
```tsx
const { data, error } = await supabase
  .from('time_slots') // –í—Å–µ —Å–ª–æ—Ç—ã
  .select(`
    *,
    expert_schedule!inner(duration_minutes),
    profiles!inner(full_name, avatar_url)
  `)
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤

#### –ë—ã–ª–æ:
```tsx
// –ó–∞–≥—Ä—É–∂–∞–µ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ —ç–∫—Å–ø–µ—Ä—Ç–∞
if (viewMode === 'expert' && user?.id === expertId) {
  await loadBookings(startDate, endDate)
}
```

#### –°—Ç–∞–ª–æ:
```tsx
// –ó–∞–≥—Ä—É–∂–∞–µ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤
await loadBookings(startDate, endDate)
```

### 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤

#### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:
```tsx
if (slot.is_available) {
  // –î–æ—Å—Ç—É–ø–Ω—ã–π —Å–ª–æ—Ç - —Å–∏–Ω–∏–π, –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π
  return (
    <button className="bg-blue-50 border-blue-200 text-blue-800">
      {formatTime(slot.start_time)} - {formatTime(slot.end_time)}
      <div>{slot.duration_minutes} –º–∏–Ω</div>
    </button>
  )
} else {
  // –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ª–æ—Ç - –∫—Ä–∞—Å–Ω—ã–π, –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π
  return (
    <div className="bg-red-50 border-red-200 text-red-800">
      {formatTime(slot.start_time)} - {formatTime(slot.end_time)}
      <div>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ</div>
      {booking.client_name && <div>{booking.client_name}</div>}
    </div>
  )
}
```

### 4. –õ–µ–≥–µ–Ω–¥–∞ —Ü–≤–µ—Ç–æ–≤

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–µ–≥–µ–Ω–¥–∞ –¥–ª—è —Ä–µ–∂–∏–º–∞ –∫–ª–∏–µ–Ω—Ç–∞:
```tsx
{viewMode === 'client' && (
  <div className="flex gap-4 text-xs">
    <div className="flex items-center space-x-2">
      <div className="w-3 h-3 bg-blue-50 border border-blue-200"></div>
      <span>–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</span>
    </div>
    <div className="flex items-center space-x-2">
      <div className="w-3 h-3 bg-red-50 border border-red-200"></div>
      <span>–£–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ</span>
    </div>
  </div>
)}
```

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã:
- ‚úÖ **–¶–≤–µ—Ç**: –°–∏–Ω–∏–π (`bg-blue-50`, `border-blue-200`, `text-blue-800`)
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
- ‚úÖ **–≠—Ñ—Ñ–µ–∫—Ç—ã**: `hover:bg-blue-100`
- ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –í—Ä–µ–º—è + –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö

### –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã:
- ‚úÖ **–¶–≤–µ—Ç**: –ö—Ä–∞—Å–Ω—ã–π (`bg-red-50`, `border-red-200`, `text-red-800`)
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ù–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏
- ‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: `opacity-75`
- ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: 
  - –í—Ä–µ–º—è —Å–ª–æ—Ç–∞
  - "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ"
  - –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

## üîÑ –†–µ–∂–∏–º—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### –†–µ–∂–∏–º –∫–ª–∏–µ–Ω—Ç–∞ (`viewMode: 'client'`):
- ‚úÖ **–°–∏–Ω–∏–µ —Å–ª–æ—Ç—ã** - –º–æ–∂–Ω–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ **–ö—Ä–∞—Å–Ω—ã–µ —Å–ª–æ—Ç—ã** - —É–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–õ–µ–≥–µ–Ω–¥–∞** - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤
- ‚úÖ **–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ—Ç–∞—Ö

### –†–µ–∂–∏–º —ç–∫—Å–ø–µ—Ä—Ç–∞ (`viewMode: 'expert'`):
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö
- ‚úÖ **–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞** –∏ –≤—ã–±—Ä–∞–Ω–Ω–∞—è —É—Å–ª—É–≥–∞
- ‚úÖ **–°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π** (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ/–æ–∂–∏–¥–∞–µ—Ç)

## üìä –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–ª–æ—Ç–∞:
```tsx
const booking = getBookingsForDate(date).find(b => 
  b.start_time === slot.start_time && b.end_time === slot.end_time
)

if (slot.is_available) {
  // –°–ª–æ—Ç —Å–≤–æ–±–æ–¥–µ–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫ –¥–æ—Å—Ç—É–ø–Ω—ã–π
} else {
  // –°–ª–æ—Ç –∑–∞–Ω—è—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
  // + –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã bookings
}
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π:
```sql
.in('status', ['pending', 'confirmed']) -- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤:
1. **–ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞** - –≤–∏–¥—è—Ç –≤—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã
2. **–ü–æ–Ω—è—Ç–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** - —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ —á—Ç–æ —Å–≤–æ–±–æ–¥–Ω–æ, —á—Ç–æ –∑–∞–Ω—è—Ç–æ
3. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –∑–Ω–∞—é—Ç –∫—Ç–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª —Å–ª–æ—Ç
4. **–õ–µ–≥–µ–Ω–¥–∞** - –ø–æ–Ω–∏–º–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤

### –î–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:
1. **–ö–æ–Ω—Ç—Ä–æ–ª—å** - –≤–∏–¥—è—Ç –≤—Å–µ —Å–≤–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - –≤–∏–¥—è—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —É—Å–ª—É–≥–∏
3. **–°—Ç–∞—Ç—É—Å—ã** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

### –î–ª—è —Å–∏—Å—Ç–µ–º—ã:
1. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - –æ–¥–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞**:

```
–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 18 –º–∞—Ä—Ç–∞
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 09:00 - 10:00   ‚îÇ ‚Üê –°–∏–Ω–∏–π (–¥–æ—Å—Ç—É–ø–µ–Ω)
‚îÇ 60 –º–∏–Ω          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 10:00 - 11:00   ‚îÇ ‚Üê –ö—Ä–∞—Å–Ω—ã–π (–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω)
‚îÇ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ   ‚îÇ
‚îÇ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 11:00 - 12:00   ‚îÇ ‚Üê –°–∏–Ω–∏–π (–¥–æ—Å—Ç—É–ø–µ–Ω)
‚îÇ 60 –º–∏–Ω          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ! –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞. üìÖ‚ú®
