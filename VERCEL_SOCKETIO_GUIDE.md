# üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Socket.IO –Ω–∞ Vercel

## üìç –í–∞—à –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä: https://platform-ruby-kappa.vercel.app/

### ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ –æ Vercel –∏ Socket.IO

**Vercel –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ. Vercel –∏—Å–ø–æ–ª—å–∑—É–µ—Ç serverless —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

### üîß –†–µ—à–µ–Ω–∏—è –¥–ª—è Socket.IO –Ω–∞ Vercel:

#### 1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Vercel Edge Runtime (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª api/socketio.js
mkdir api
```

#### 2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**

**A) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ Socket.IO —Å–µ—Ä–≤–µ—Ä–∞:**
- Railway.app
- Render.com  
- Heroku
- DigitalOcean App Platform

**B) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Supabase Realtime (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω):**
- –í–∞—à —Ç–µ–∫—É—â–∏–π —á–∞—Ç —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Supabase Realtime
- –≠—Ç–æ –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è Vercel

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥:

–ü–æ—Å–∫–æ–ª—å–∫—É —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —Ä–∞–±–æ—á–∏–π —á–∞—Ç –Ω–∞ Supabase Realtime, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:

1. **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Realtime** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
2. **Socket.IO –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å Socket.IO –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

### üîÑ –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É Socket.IO –∏ Supabase Realtime:

```typescript
// src/hooks/useChatAdapter.ts
export function useChatAdapter() {
  const isProduction = process.env.NODE_ENV === 'production'
  
  if (isProduction) {
    return useSupabaseChat() // –í–∞—à —Ç–µ–∫—É—â–∏–π —á–∞—Ç
  } else {
    return useSocketChat() // Socket.IO –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
  }
}
```

### üì± –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

–í–∞—à —Ö—É–∫ `useSocketChat` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL:
```typescript
const SOCKET_URL = process.env.NODE_ENV === 'production' 
  ? 'https://platform-ruby-kappa.vercel.app' 
  : 'http://localhost:3001'
```

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. **–õ–æ–∫–∞–ª—å–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Socket.IO —Å–µ—Ä–≤–µ—Ä
2. **–ü—Ä–æ–¥–∞–∫—à–Ω:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Supabase Realtime

### üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π:

| –†–µ—à–µ–Ω–∏–µ | Vercel —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å | –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---------|---------------------|----------------|-----------|
| Supabase Realtime | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | ‚úÖ –î–∞ | üü¢ –ü—Ä–æ—Å—Ç–∞—è |
| Socket.IO –ª–æ–∫–∞–ª—å–Ω–æ | ‚úÖ –î–∞ | ‚úÖ –î–∞ | üü° –°—Ä–µ–¥–Ω—è—è |
| Socket.IO –Ω–∞ Vercel | ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | üî¥ –°–ª–æ–∂–Ω–∞—è |

### üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

–í–∞—à —Ç–µ–∫—É—â–∏–π —á–∞—Ç –Ω–∞ Supabase Realtime —É–∂–µ –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Vercel! Socket.IO –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
